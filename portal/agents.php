<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Navigation -->
    <?php
    include $_SERVER['DOCUMENT_ROOT'] . '/portal/assets/includes/common-meta.html';
    ?>
    <meta name="description" content="Become a Mzansi Agent and earn commissions by recruiting sellers to The Mzansi Marketplace, South Africa’s fastest-growing online marketplace. Join now to start earning!">
    <meta name="keywords" content="Mzansi Agent, become an agent, Mzansi Marketplace, earn commissions, recruit sellers, South Africa marketplace, online selling, affiliate program">
    <meta name="robots" content="index, follow">
    <meta name="author" content="The Mzansi Marketplace">
    <title>Become an Agent | The Mzansi Marketplace</title>
    <link rel="icon" type="image/png" href="/assets/images/themzansi_logo.png" sizes="32x32">
    <link rel="canonical" href="https://themzansimarketplace.co.za/portal/agents.php#join-form">
    <meta property="og:title" content="Become a Mzansi Agent | The Mzansi Marketplace">
    <meta property="og:description" content="Join The Mzansi Marketplace as a Mzansi Agent. Earn commissions by recruiting sellers to South Africa’s fastest-growing online marketplace.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://themzansimarketplace.co.za/portal/agents.php#join-form">
    <meta property="og:image" content="https://themzansimarketplace.co.za/assets/images/themzansi_logo.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="The Mzansi Marketplace">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Become a Mzansi Agent - Earn Commissions">
    <meta name="twitter:description" content="Join as a Mzansi Agent and earn commissions by bringing sellers to The Mzansi Marketplace, South Africa’s top online marketplace.">
    <meta name="twitter:image" content="https://themzansimarketplace.co.za/assets/images/themzansi_logo.png">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "Become a Mzansi Agent",
            "description": "Join The Mzansi Marketplace as a Mzansi Agent and earn commissions by recruiting sellers to South Africa's fastest-growing online marketplace.",
            "url": "https://themzansimarketplace.co.za/portal/agents.php#join-form",
            "publisher": {
                "@type": "Organization",
                "name": "The Mzansi Marketplace",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://themzansimarketplace.co.za/assets/images/themzansi_logo.png",
                    "width": 1200,
                    "height": 630
                }
            }
        }
    </script>

    <link rel="stylesheet" href="/portal/assets/css/agent.css">
    <link rel="stylesheet" href="/portal/assets/css/responsive.css">

</head>

<body>
    <!-- Navigation -->
    <?php
    include $_SERVER['DOCUMENT_ROOT'] . '/portal/assets/includes/navigation.html';
    ?>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-container">
            <h1>Become a Mzansi Marketplace Agent</h1>
            <p>Join our network of agents and earn commissions by bringing sellers to South Africa's fastest growing
                online marketplace.</p>
            <a href="#join-form" class="hero-button">
                Apply Now <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="section bg-white">
        <div class="container">
            <div class="section-title">
                <p class="section-subtitle">Agent Benefits</p>
                <h2 class="section-heading">Why Become a Mzansi Agent?</h2>
            </div>
            <div class="card-grid">
                <!-- Benefit 1 -->
                <div class="card">
                    <div class="card-icon orange">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <h3>Lucrative Commissions</h3>
                    <p>Earn competitive commissions for every seller you bring to our platform. The more sellers you
                        onboard, the more you earn.</p>
                </div>

                <!-- Benefit 2 -->
                <div class="card">
                    <div class="card-icon green">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Growth Opportunities</h3>
                    <p>Build your own agency by recruiting sub-agents under you and earn additional commissions from
                        their sales.</p>
                </div>

                <!-- Benefit 3 -->
                <div class="card">
                    <div class="card-icon purple">
                        <i class="fas fa-tools"></i>
                    </div>
                    <h3>Marketing Tools</h3>
                    <p>Get access to professional marketing materials, training, and support to help you succeed as an
                        agent.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <!--   <section class="section bg-white">
        <div class="container">
            <div class="section-title">
                <p class="section-subtitle">Success Stories</p>
                <h2 class="section-heading">What Our Agents Say</h2>
            </div>
            <div class="card-grid">
                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img class="testimonial-avatar"
                            src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                            alt="Sarah M.">
                        <div class="testimonial-author">
                            <h4>Sarah M.</h4>
                            <p>Cape Town Agent</p>
                        </div>
                    </div>
                    <div class="testimonial-content">
                        <p>"Joining as a Mzansi Marketplace agent was the best decision I made last year. I've built a
                            network of 35 sellers and earn passive income every month."</p>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img class="testimonial-avatar"
                            src="https://images.unsplash.com/photo-1519244703995-f4e0f30006d5?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                            alt="James K.">
                        <div class="testimonial-author">
                            <h4>James K.</h4>
                            <p>Johannesburg Agency</p>
                        </div>
                    </div>
                    <div class="testimonial-content">
                        <p>"The training and support from Mzansi Marketplace helped me build an agency with 12
                            sub-agents. We're now one of the top performing teams in Gauteng."</p>
                    </div>
                </div>

                <div class="testimonial-card">
                    <div class="testimonial-header">
                        <img class="testimonial-avatar"
                            src="https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80"
                            alt="Thando N.">
                        <div class="testimonial-author">
                            <h4>Thando N.</h4>
                            <p>Durban Agent</p>
                        </div>
                    </div>
                    <div class="testimonial-content">
                        <p>"I was skeptical at first, but after my first month I earned more than my previous job. The
                            platform makes it easy to track my earnings and performance."</p>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Join Form -->
    <section id="join-form" class="form-section">
        <div class="container">
            <div class="form-container">
                <div class="form-info">
                    <h2 class="section-heading">Ready to Join Our Agent Network?</h2>
                    <p>Fill out the application form to get started.</p>

                    <div class="contact-info">
                        <div class="contact-icon">
                            <i class="fas fa-phone-alt"></i>
                        </div>
                        <div class="contact-details">
                            <p>Have questions?</p>
                            <p><strong>Call us at +27 69 535 2229</strong></p>
                        </div>
                    </div>

                    <div class="contact-info">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <p>Email us at</p>
                            <p class="email"><strong>agents@themzansimarketplace.co.za</strong></p>
                        </div>
                    </div>
                </div>

                <form id="agentForm" class="form-wrapper" action="/api/reg/agent/index.php" method="POST">
                    <div class="form-group">
                        <input id="full-name" name="full-name" type="text" placeholder=" " required>
                        <label for="full-name">Full Name</label>
                        <div id="name-error" class="error-message">Please enter your full name</div>
                    </div>

                    <div>
                        <div class="form-group">
                            <input type="email" id="email" name="email" placeholder=" " required>
                            <label for="email">Email Address</label>
                        </div>
                        <div class="reg-mmssg-display info" style="display: none;">
                            <i class="ph ph-warning"></i>
                            <p>This email is already being used for a <strong>Mzansi Marketplace Agent</strong> account. Use a different email address to sign up or <a href="/agent/login/">log in</a> .</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <input id="phone" name="phone" type="tel" placeholder=" " maxlength="10" required>
                        <label for="phone">Phone Number</label>
                        <div id="phone-error" class="error-message">Please enter a valid phone number</div>
                    </div>

                    <div class="form-group">
                        <input id="location" name="location" type="text" placeholder=" " required>
                        <label for="location">Location (City/Town)</label>
                        <div id="location-error" class="error-message">Please enter your location</div>
                    </div>

                    <select id="experience" name="experience" class="dropdown" required>
                        <option value="">Sales/Marketing Experience (Years)</option>
                        <option value="0">None</option>
                        <option value="1-2">1-2 years</option>
                        <option value="3-5">3-5 years</option>
                        <option value="5+">5+ years</option>
                    </select>

                    <div class="form-group">
                        <input id="network" name="network" type="number" min="0" value="" placeholder=" ">
                        <label for="network">Number of Potential Sellers in Your Network</label>
                    </div>
                    <div class="flex-between">
                        <div class="checkbox-group">
                            <input id="terms" type="checkbox" required>
                            <label for="terms">
                                I agree to the <a href="https://themzansimarketplace.co.za/portal/legal/agent/">Terms</a> and <a href="https://themzansimarketplace.co.za/portal/legal/agent/">Privacy Policy</a>
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="submit-button" id="submit_appl">
                        <span class="btn-loader" style="display: none;"></span>Submit Application
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="section bg-white">
        <div class="container">
            <div class="section-title">
                <p class="section-subtitle">FAQs</p>
                <h2 class="section-heading">Frequently Asked Questions</h2>
            </div>

            <div class="faq-container">
                <!-- FAQ 1 -->
                <div class="faq-item">
                    <h3>How much can I earn as a Mzansi Marketplace agent?</h3>
                    <p>Our commission structure is competitive and based on the number of sellers you onboard and their
                        sales performance. Top agents earn between R2,500 to R5,000 per month. You'll receive full
                        details about our commission structure during the training.</p>
                </div>

                <!-- FAQ 2 -->
                <div class="faq-item">
                    <h3>Do I need previous sales experience?</h3>
                    <p>While previous sales experience is helpful, it's not required. What's important is your network
                        and willingness to learn.</p>
                </div>

                <!-- FAQ 3 -->
                <div class="faq-item">
                    <h3>How much time do I need to commit?</h3>
                    <p>You can work as much or as little as you want. Many of our agents start part-time (5-10 hours per
                        week) and gradually increase their time commitment as they see results. It's completely flexible
                        to fit your schedule.</p>
                </div>

                <!-- FAQ 4 -->
                <div class="faq-item">
                    <h3>What support will I receive?</h3>
                    <p>You'll have access to our agent portal with training materials, marketing assets, and a dedicated
                        support team. We also host regular webinars and provide one-on-one coaching for our top
                        performers.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->

    <?php
    include $_SERVER['DOCUMENT_ROOT'] . '/portal/assets/includes/footer.php';
    ?>
    <!-- Include jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <script>
        let isEmailReg = false;

        document.getElementById("email").addEventListener("input", function(e) {
            const email = e.target.value.trim(); // Get email input value

            const emailInput = document.getElementById('email');
            const agentsubbtn = document.getElementById('submit_appl');

            if (email !== '') {
                // Send AJAX request to check if email is registered
                $.ajax({
                    url: '/api/reg/agent/',
                    type: 'GET',
                    data: {
                        email: email
                    },
                    dataType: 'json',
                    success: function(response) {

                        const messageBox = document.querySelector('.reg-mmssg-display.info');

                        emailInput.style.borderColor = '#d1d5db';

                        if (response.status === 'success' && response.data.isRegistered) {
                            // console.log('Email is registered')
                            if (messageBox) {
                                messageBox.style.display = 'flex';
                                emailInput.style.borderColor = 'red';
                                isEmailReg = true;
                                agentsubbtn.disabled = true;
                            } else {
                                isEmailReg = false;
                                emailInput.style.borderColor = '#d1d5db';
                                agentsubbtn.disabled = false;
                            }
                        } else {
                            emailInput.style.borderColor = '#d1d5db';
                            if (messageBox) {
                                messageBox.style.display = 'none';
                                isEmailReg = false;
                                agentsubbtn.disabled = false;
                            }
                        }
                    },
                    error: function(xhr, status, error) {
                        // console.error('error', xhr, status, error);
                    }
                });
            }
        });

        document.getElementById('agentForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            showBtnLoader('submit_appl');
            let isValid = true;

            const form = e.target;

            const fields = [{
                    id: 'full-name',
                    errorId: 'name-error',
                    validate: val => val.trim() !== ''
                },
                {
                    id: 'email',
                    errorId: 'email-error',
                    validate: val => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(val)
                },
                {
                    id: 'phone',
                    errorId: 'phone-error',
                    validate: val => /^(\+27|0)[6-8][0-9]{8}$/.test(val)
                },
                {
                    id: 'location',
                    errorId: 'location-error',
                    validate: val => val.trim() !== ''
                },
                {
                    id: 'network',
                    errorId: 'network-error',
                    validate: val => parseInt(val) >= 0 || val === ''
                }
            ];

            fields.forEach(({
                id,
                errorId,
                validate
            }) => {
                const input = document.getElementById(id);
                const error = document.getElementById(errorId);
                if (!validate(input.value)) {
                    input.classList.add('input-error');
                    if (error) error.style.display = 'block';
                    isValid = false;
                } else {
                    input.classList.remove('input-error');
                    if (error) error.style.display = 'none';
                }
            });

            if (!isValid) {
                hideBtnLoader('submit_appl');
                return;
            }

            const formData = new FormData(form);

            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: formData
                });

                // Log raw response for debugging
                const rawResponse = await response.text();
                console.log('Raw server response:', rawResponse);

                // Attempt to parse as JSON
                let result;
                try {
                    result = JSON.parse(rawResponse);
                } catch (jsonError) {
                    console.error('JSON parse error:', jsonError);
                    throw new Error('Invalid JSON response from server');
                }

                const clearURLParams = () => {
                    const url = new URL(window.location.href);
                    url.searchParams.delete("status");
                    window.history.replaceState({}, document.title, url);
                };

                const showAlert = (icon, title, text) => {
                    Swal.fire({
                        icon,
                        title,
                        text
                    }).then((res) => {
                        if (res.isConfirmed) clearURLParams();
                    });
                };

                if (result.success) {
                    showAlert(
                        "success",
                        "Application Successful",
                        "You will receive an email with your username & password (check inbox or spam) confirming your account creation."
                    );
                    form.reset();
                    hideBtnLoader('submit_appl');
                } else if (result.errors && Array.isArray(result.errors)) {
                    showAlert(
                        "error",
                        "Submission Failed",
                        result.errors.join('\n') || "Something went wrong. Please try again."
                    );
                    hideBtnLoader('submit_appl');
                } else {
                    showAlert(
                        "error",
                        "Oops...",
                        result.error || "Something went wrong. Please try again later."
                    );
                    hideBtnLoader('submit_appl');
                }
            } catch (error) {
                console.error('Submission error:', error);
                Swal.fire({
                    icon: "error",
                    title: "Error",
                    text: error.message || "Something went wrong. Please check your connection and try again."
                }).then((res) => {
                    if (res.isConfirmed) {
                        const url = new URL(window.location.href);
                        url.searchParams.delete("status");
                        window.history.replaceState({}, document.title, url);
                    }
                });
                hideBtnLoader('submit_appl');
            }
        });
    </script>
</body>

</html>